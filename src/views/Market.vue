<template>
  <v-container>
    <InstrumentsTable :title="market && market.name"
      :market_mic="$route.params.mic" />
  </v-container>
</template>

<script>
import GraphQLMixin from '@/mixins/GraphQLMixin';
import InstrumentsTable from '@/components/InstrumentsTable';

export default {
  mixins: [GraphQLMixin],
  components: {
    InstrumentsTable
  },
  computed: {
    market() {
      return this.loading ? null : this.graph.markets
        .find(market => market.mic === this.$route.params.mic);
    }
  },
  data() {
    return {
      watchQuery: `{
        markets(mic: "${this.$route.params.mic}") {
          uuid
          mic
          name
        }
      }`
    };
  }
};
</script>
